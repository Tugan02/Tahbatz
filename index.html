<!doctype html>
<html lang="he" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>HERE Route MVP</title>
    <link rel="stylesheet" href="https://js.api.here.com/v3/3.1/mapsjs-ui.css" />
    <style>
      html, body, #app { height: 100%; margin: 0; }
      #map { position: absolute; inset: 0; }
      /* קונטיינר של האינפוט – עוגן ל-dropdown */
      .field-inputwrap {
        position: relative;
        flex: 1;                /* שייקח את כל הרוחב הפנוי */
        min-width: 220px;       /* כדי שלא יהיה צר מדי */
      }

      /* הקופסה של ההצעות – מיושרת אינליין ל-RTL, בדיוק מתחת לאינפוט */
      .suggestions {
        position: absolute;
        top: 100%;
        inset-inline-end: 0;    /* ב-RTL מתחיל מהימין */
        width: 100%;            /* רוחב זהה לאינפוט */
        margin-top: 4px;
        z-index: 9999;

        background: #fff;
        border: 1px solid #e5e7eb;
        border-radius: 10px;
        box-shadow: 0 8px 24px rgba(0,0,0,0.12);
        max-height: 300px;
        overflow-y: auto;
      }

      /* פריט הצעה בודד */
      .suggestion {
        display: flex;
        align-items: flex-start;
        gap: 8px;
        padding: 10px 12px;
        cursor: pointer;
        line-height: 1.35;
        color: #1f2937;
      }

      .suggestion + .suggestion {
        border-top: 1px solid #f3f4f6;
      }

      .suggestion:hover {
        background: #f9fafb;
      }

      /* מצבי עזר */
      .suggestion.loading,
      .suggestion.empty {
        color: #6b7280;
        cursor: default;
      }

      /* אייקון קטן משמאל לטקסט (ב-RTL) */
      .suggestion .icon {
        width: 18px;
        height: 18px;
        margin-top: 2px;
        opacity: 0.8;
        flex: 0 0 18px;
        background-repeat: no-repeat;
        background-position: center;
        background-size: 16px 16px;
      }

      /* “סיכה” למקום */
      .suggestion .icon.pin {
        /* אייקון SVG מינימלי כסימנייה; אפשר להחליף למה שבא לך */
        mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" fill="%23000" viewBox="0 0 24 24"><path d="M12 2C8.14 2 5 5.14 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.86-3.14-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5S10.62 6.5 12 6.5s2.5 1.12 2.5 2.5S13.38 11.5 12 11.5z"/></svg>') center / contain no-repeat;
        background: #374151;
      }

      /* “היסטוריה חיפוש” – אם תרצה סוגים שונים */
      .suggestion .icon.history {
        mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" fill="%23000" viewBox="0 0 24 24"><path d="M13 3a9 9 0 1 0 8.94 8H20a7 7 0 1 1-7-7v2l4-3-4-3v2zM12 7h2v6h-5v-2h3z"/></svg>') center / contain no-repeat;
        background: #9ca3af;
      }

      /* טקסט ההצעה: שילוב שתי שורות נראה טוב */
      .suggestion .text {
        white-space: normal;
        overflow: hidden;
        text-overflow: ellipsis;
      }

      .panel {
        direction: rtl;
        text-align: right;
        position: absolute; top: 12px; right: 12px; z-index: 10;
        background: rgba(255,255,255,0.95); border-radius: 12px;
        box-shadow: 0 6px 20px rgba(0,0,0,0.15);
        padding: 12px; max-width: 420px; font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
      }
      .row { display: flex; gap: 8px; align-items: center; margin-bottom: 8px; flex-direction: row-reverse; }
      .row.buttons { justify-content: flex-end; }
      .row.field { flex-direction: row; }
      .row label { font-size: 12px; color: #333; margin-right: 8px;}
      .row input { flex: 1; padding: 8px 10px; border-radius: 8px; border: 1px solid #ddd; }
      .row button {
        padding: 4px 12px; border-radius: 10px; border: none; cursor: pointer; background: #0061ff; color: white; font-weight: 600;
      }
      .row button.secondary { background: #eaeef3; color: #1f2937; }
      .hint { font-size: 12px; color: #555; }
      .summary { font-size: 13px; margin-top: 6px; color: #222; }
      .footer { font-size: 11px; color: #666; margin-top: 8px; }
      .dest-actions { display:flex; gap:8px; }
      .dest-actions button { padding:6px 10px; border-radius:8px; border:1px solid #ddd; background:#f7f7f7; cursor:pointer; }
    </style>
    <script src="https://js.api.here.com/v3/3.1/mapsjs-core.js"></script>
    <script src="https://js.api.here.com/v3/3.1/mapsjs-service.js"></script>
    <script src="https://js.api.here.com/v3/3.1/mapsjs-mapevents.js"></script>
    <script src="https://js.api.here.com/v3/3.1/mapsjs-ui.js"></script>
  </head>
  <body dir="rtl">
    <div id="app"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
